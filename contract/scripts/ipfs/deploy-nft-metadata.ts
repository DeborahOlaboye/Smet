import { uploadMetadataToIPFS } from './upload-metadata.js';\nimport { updateContractURIs } from './update-contract-uris.js';\nimport fs from 'fs';\nimport path from 'path';\nimport { fileURLToPath } from 'url';\n\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = path.dirname(__filename);\n\nasync function deployNFTMetadataToIPFS() {\n  try {\n    console.log('ðŸš€ Starting complete NFT metadata deployment to IPFS...');\n    console.log('=' .repeat(60));\n    \n    // Step 1: Upload metadata to IPFS\n    console.log('\\nðŸ“¦ Step 1: Uploading metadata to IPFS...');\n    const ipfsResults = await uploadMetadataToIPFS();\n    \n    // Step 2: Update contract URIs\n    console.log('\\nðŸ”„ Step 2: Updating contract URIs...');\n    await updateContractURIs();\n    \n    // Step 3: Generate summary report\n    console.log('\\nðŸ“Š Step 3: Generating deployment report...');\n    const report = {\n      deployment: {\n        timestamp: new Date().toISOString(),\n        status: 'completed',\n        totalHeroes: Object.keys(ipfsResults.heroes).length,\n        totalLoot: Object.keys(ipfsResults.loot).length\n      },\n      heroes: ipfsResults.heroes,\n      loot: ipfsResults.loot,\n      summary: {\n        heroURIs: Object.values(ipfsResults.heroes).map(h => h.uri),\n        lootURIs: Object.values(ipfsResults.loot).map(l => l.uri)\n      }\n    };\n    \n    const reportPath = path.join(__dirname, '../ipfs-deployment-report.json');\n    fs.writeFileSync(reportPath, JSON.stringify(report, null, 2));\n    \n    console.log('\\nðŸŽ‰ NFT Metadata Deployment Complete!');\n    console.log('=' .repeat(60));\n    console.log(`ðŸ“„ Deployment report: ${reportPath}`);\n    console.log(`ðŸ”— Heroes deployed: ${report.deployment.totalHeroes}`);\n    console.log(`ðŸ”— Loot items deployed: ${report.deployment.totalLoot}`);\n    \n    // Display sample URIs\n    console.log('\\nðŸ“‹ Sample URIs:');\n    if (report.summary.heroURIs.length > 0) {\n      console.log(`   Hero #1: ${report.summary.heroURIs[0]}`);\n    }\n    if (report.summary.lootURIs.length > 0) {\n      console.log(`   Loot #1: ${report.summary.lootURIs[0]}`);\n    }\n    \n    return report;\n    \n  } catch (error) {\n    console.error('\\nâŒ Deployment failed:', error);\n    \n    // Generate error report\n    const errorReport = {\n      deployment: {\n        timestamp: new Date().toISOString(),\n        status: 'failed',\n        error: error.message\n      }\n    };\n    \n    const errorPath = path.join(__dirname, '../ipfs-deployment-error.json');\n    fs.writeFileSync(errorPath, JSON.stringify(errorReport, null, 2));\n    \n    throw error;\n  }\n}\n\nif (import.meta.url === `file://${process.argv[1]}`) {\n  deployNFTMetadataToIPFS()\n    .then(() => process.exit(0))\n    .catch(() => process.exit(1));\n}\n\nexport { deployNFTMetadataToIPFS };